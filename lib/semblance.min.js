var SBComponent=function(a,b){var c=this;c.id=a,c.schema=b,c.$dom=$(b),c.childs={},c.containers={},c.components=[],c.$dom.find("sb-component").each(function(a,b){var d=$(b),e=d.attr("name");c.childs[e]=d.html(),c.containers[e]=d.parent(),d.remove()}),c.$dom.find("sb-variable").each(function(a,b){var c=$(b),d=c.attr("name");c.replaceWith('<span name="'+d+'" sb-type="sb-variable"></span>')})};SBComponent.prototype.setFieldValue=function(a,b){function c(a){switch(a[0].tagName){case"IMG":a.attr("src",b);break;default:a.text(b)}}var d=this;d.$dom.attr("name")==a?c(d.$dom):d.$dom.find('[name="'+a+'"]').each(function(){c($(this))})},SBComponent.prototype.setFieldHTMLValue=function(a,b){function c(a){switch(a[0].tagName){case"IMG":a.attr("src",b);break;default:a.html(b)}}var d=this;d.$dom.attr("name")==a?c(d.$dom):d.$dom.find('[name="'+a+'"]').each(function(){c($(this))})},SBComponent.prototype.setFieldAttr=function(a,b,c){function d(a){a.attr(b,c)}var e=this;e.$dom.attr("name")==a?d(e.$dom):e.$dom.find('[name="'+a+'"]').each(function(){d($(this))})},SBComponent.prototype.addFieldClass=function(a,b){var c=this;c.$dom.attr("name")==a?c.$dom.addClass(b):c.$dom.find('[name="'+a+'"]').addClass(b)},SBComponent.prototype.removeFieldClass=function(a,b){var c=this;c.$dom.attr("name")==a?c.$dom.removeClass(b):c.$dom.find('[name="'+a+'"]').removeClass(b)},SBComponent.prototype.createSubComponent=function(a){var b=this,c=new SBComponent(null,b.childs[a]);return b.containers[a].append(c.$dom),b.components.push(c),c};var SBComponentManager=function(){var a=this;a.components={}};SBComponentManager.prototype.create=function(a){var b=this;if(b.components[a])return new SBComponent(a,b.components[a]);var c=$("sb-component#"+a).html();return b.components[a]=c,new SBComponent(a,c)};var Semblance=function(){var a=this;a.component=new SBComponentManager},global=this;!function(){if(document.styleSheets){var a=document.styleSheets[document.styleSheets.length-1],b={"sb-component":"{ display: none; }"};for(var c in b)a.addRule?a.addRule(c,b[c]):a.insertRule(c+b[c],a.cssRules.length);global.semblance=new Semblance}}();